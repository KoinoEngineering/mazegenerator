(window.webpackJsonpmazegenerator=window.webpackJsonpmazegenerator||[]).push([[0],{38:function(t,e,r){t.exports=r(50)},43:function(t,e,r){},50:function(t,e,r){"use strict";r.r(e);var n=r(3),a=r.n(n),o=r(29),c=r.n(o),i=(r(43),r(8)),p=r(6),u=r(10),s=r(11),l=r(12),O=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"shouldComponentUpdate",value:function(t){return this.props.state!==t.state}}]),e}(n.Component),b=r(7),f=r(16),h=r(23);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(r,!0).forEach(function(e){Object(b.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return h.a.fromJS(g(t,e))},g=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return void 0===e?e:Array.isArray(e)?e.map(function(e,n){return t(e,[].concat(Object(f.a)(r),[n]))}):"object"==typeof e?Object.keys(e).reduce(function(n,a){return"path"!==a&&(n[a]=t(e[a],[].concat(Object(f.a)(r),[a]))),n},j({},e,{path:r})):e},v=h.a,m=function t(e,r){Object(i.a)(this,t),this.path=void 0,this.option=void 0,this.path=v.isImmutable(e)?e:v.fromJS(e),this.option=r},w=r(59),E=r(61),k=Object(w.a)({root:{display:"inline-block"}}),P=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.props,e=t.state,r=t.dispatch,n=t.classes;return a.a.createElement("div",{className:n.root},a.a.createElement("input",{type:"text",value:e.get("value"),onChange:function(t){return r((n="COMMON_TEXTBOX_CHANGE",a=e.get("path"),o={value:t.target.value},{type:n,payload:new m(a,o),meta:{}}));var n,a,o}}))}}]),e}(O),D=Object(E.a)(k)(P),S=r(32),N=r.n(S),_=r(60),T=Object(w.a)({root:{display:"inline-block",boxSizing:"border-box",width:10,height:10},pillar:{backgroundColor:"#000000"},wall:{backgroundColor:"#000000"},load:{backgroundColor:"#FFFFFF"}}),C=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.props,e=t.state,r=t.classes;return a.a.createElement("div",{className:N()(r.root,r[e.get("type")])})}}]),e}(O),A=Object(_.a)(T)(C),I=r(51),x=Object(I.a)({row:{height:10,borderCollapse:"collapse"}}),W=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.props,e=t.state,r=t.classes,n=t.dispatch;return a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return n({type:"STICK_DOWN_GNENRATE_START",payload:{path:e.get("path")},meta:{}})}},"Generate")),a.a.createElement("div",null,e.get("field").map(function(t,n){return a.a.createElement("div",{key:e.get("path").push(n).join(","),className:r.row},t.map(function(t){return a.a.createElement(A,{key:t.get("path").join(","),state:t})}))})))}}]),e}(O),z=Object(_.a)(x)(W),G=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.props,e=t.state,r=t.dispatch;return a.a.createElement("div",null,a.a.createElement("div",null,"\u9ad8\u3055\uff1a",a.a.createElement(D,{state:e.get("height"),dispatch:r})),a.a.createElement("div",null,"\u5e45\u2003\uff1a",a.a.createElement(D,{state:e.get("width"),dispatch:r})),a.a.createElement("div",null,a.a.createElement(z,{state:e.get("maze"),dispatch:r})))}}]),e}(O),M=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(p.a)(e,[{key:"render",value:function(){var t=this.props.state;return a.a.createElement(a.a.Fragment,null,a.a.createElement(G,{state:t.get("StickDown"),dispatch:this.props.dispatch}))}}]),e}(O),R=r(19);function K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var F=function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?K(r,!0).forEach(function(e){Object(b.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({value:""},t)};function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var X=function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(r,!0).forEach(function(e){Object(b.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({type:"load"},t)};function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function L(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(r,!0).forEach(function(e){Object(b.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var Z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:11,n=Array(e).fill(Object(f.a)(Array(r).fill(X())));return{field:n=n.map(function(t,e){return t.map(function(r,a){return 0===e||e+1===n.length||0===a||a+1===t.length?L({},r,{type:"wall"}):e%2||a%2?r:L({},r,{type:"pillar"})})})}};function H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var U=function(t){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?H(r,!0).forEach(function(e){Object(b.a)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({height:F(),width:F(),maze:Z()},t)},$=function(t){return{StickDown:U(t&&t.StickDown)}},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d($()),e=arguments.length>1?arguments[1]:void 0;return(Q[e.type]||V)(t,e)},Q={COMMON_TEXTBOX_CHANGE:function(t,e){return t.updateIn(e.payload.path,function(t){return t.set("value",e.payload.option.value)})},STICK_DOWN_CREATE_MAZE:function(t,e){var r={0:{h:-1,w:0},1:{h:0,w:-1},2:{h:0,w:1},3:{h:1,w:0}},n=0;do{n=Math.round(100*Math.random())%4}while(2===e.payload.option.h&&0===n||!Y(t,e.payload.option.h,e.payload.option.w,r[n]));return t.setIn(["StickDown","maze","field",e.payload.option.h+r[n].h,e.payload.option.w+r[n].w,"type"],"wall")},STICK_DOWN_INIT_MAZE:function(t,e){return t.setIn(["StickDown","maze"],d(Z(),t.get("StickDown").get("maze").get("path").toJS()))}},V=function(t,e){return t},Y=function(t,e,r,n){var a=["StickDown","maze","field",e+n.h,r+n.w];return t.hasIn(a)&&"load"===t.getIn(a).get("type")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var tt=r(33),et=r(35),rt=r(13),nt=r.n(rt),at=r(14),ot=nt.a.mark(st),ct=nt.a.mark(lt),it=nt.a.mark(Ot),pt=nt.a.mark(bt),ut=["COMMON_TEXTBOX_CHANGE_SAGA","STICK_DOWN_GNENRATE_START","STICK_DOWN_GNENRATE"];function st(){return nt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(at.d)(ut,lt);case 2:case"end":return t.stop()}},ot)}function lt(t){var e;return nt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(at.c)();case 2:e=r.sent,r.t0=t.type,r.next="STICK_DOWN_GNENRATE_START"===r.t0?6:"STICK_DOWN_GNENRATE"===r.t0?9:12;break;case 6:return r.next=8,Object(at.a)(Ot,e.get("StickDown").get("maze"));case 8:return r.abrupt("break",13);case 9:return r.next=11,Object(at.a)(bt,t.meta.pillarList);case 11:case 12:return r.abrupt("break",13);case 13:case"end":return r.stop()}},ct)}function Ot(t){return nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.b)({type:"STICK_DOWN_INIT_MAZE",payload:{path:t.get("path")},meta:{}});case 2:return e.next=4,Object(at.b)({type:"STICK_DOWN_GNENRATE",payload:{path:t.get("path")},meta:{pillarList:t.get("field").flatten(!0).filter(function(t){return"pillar"===t.get("type")})}});case 4:case"end":return e.stop()}},it)}function bt(t){var e;return nt.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=t.first())){r.next=6;break}return r.next=4,Object(at.b)({type:"STICK_DOWN_CREATE_MAZE",payload:{path:e.get("path"),option:{h:e.get("path").get(e.get("path").size-2),w:e.get("path").get(e.get("path").size-1)}},meta:{}});case 4:return r.next=6,Object(at.b)({type:"STICK_DOWN_GNENRATE",payload:{path:e.get("path")},meta:{pillarList:t.shift()}});case 6:case"end":return r.stop()}},pt)}var ft=Object(et.a)(),ht=Object(R.c)(q,Object(R.a)(ft,Object(tt.createLogger)({stateTransformer:function(t){return t.toJS()}})));ft.run(st);var yt=function(){return c.a.render(a.a.createElement(M,{state:ht.getState(),dispatch:ht.dispatch}),document.getElementById("root"))};yt(),ht.subscribe(yt),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.5c25ab9a.chunk.js.map